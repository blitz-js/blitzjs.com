---
title: Setup
sidebar_label: Setup
---

### Blitz Auth with Next.js {#setup-nextjs}

Install `@blitzjs/auth` plugin with:

```bash
npm i @blitzjs/auth # yarn add @blitzjs/auth # pnpm add @blitzjs/auth
```

#### Client setup {#client-setup}

Add the following to your `blitz-client.ts` file:

```typescript
import { AuthClientPlugin } from "@blitzjs/auth"
import { setupBlitzClient } from "@blitzjs/next"

const { withBlitz } = setupBlitzClient({
  plugins: [
    AuthClientPlugin({
      cookiePrefix: "blitz-cookie-prefix",
    }),
  ],
})

export { withBlitz }
```

#### Server setup {#server-setup}

Then, add the following to the `blitz-server.ts` file:

```typescript
import { setupBlitzServer } from "@blitzjs/next"
import {
  AuthServerPlugin,
  PrismaStorage,
  simpleRolesIsAuthorized,
} from "@blitzjs/auth"
import { db } from "db"
import { authConfig } from "./blitz-client"

const { gSSP, gSP, api } = setupBlitzServer({
  plugins: [
    AuthServerPlugin({
      ...authConfig,
      storage: PrismaStorage(db),
      isAuthorized: simpleRolesIsAuthorized,
    }),
  ],
})

export { gSSP, gSP, api }
```
