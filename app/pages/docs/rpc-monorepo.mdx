---
title: Monorepo setup
sidebar_label: Monorepo setup
---

Typically, Blitz queries and mutations can only be run within the root of
the Blitz project.

### Example {#example}

For this example, we'll use Turborepo with the following workspace
configuration

![Turborepo workspace image](/img/turborepo-workspace.png)

With Turborepo having the following folder structure. With Blitz residing
in the saas workspace.

![Turborepo workspace image](/img/turborepo-folder-structure.png)

To be able to use the queries and mutations that internally reside in the
canvas package under the workspace modules, we must configure Blitz
appropiately.

## Setup {#setup}

Inside the Blitz root folder, you can install `next-transpile-modules` by
running the following command:

```bash
npm i next-transpile-modules # yarn add next-transpile-modules # pnpm add next-transpile-modules
```

## Modifying `next.config.js` file {#modifying-next-config-file}

Inside the `blitz` property add the param `includeRPCFolders` as an array
of relative path folders from the Blitz root folder. In this example it
would be the following:

```ts
blitz?: {
  includeRPCFolders: ["../../modules/canvas"],
};
```

Moreover, Next has to be configured for this change. With this example,
above module exports the following would be added:

```ts
const withTM = require("next-transpile-modules")(["canvas"])
```

> **Note**: Each package included in the includeRPCFolders must be added
> to the `next-transpile-modules` array as their package name and not
> relative path.  
> If this step is skipped or package name not used, then you may
> experience transpile errors.

finally wrap the module.exports with the withTM function, for example:

```ts
module.exports = withBlitz(
  withTM({
    blitz: {
      includeRPCFolders: ["../../packages/canvas"],
    },
  })
)
```
